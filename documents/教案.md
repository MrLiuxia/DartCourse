## 草稿

- 来源
- 为什么使用Dart
  - 两种编译模式 JIT AOT
- VS JAVA
  - 方法重载
- 坑
  - `==` 比较内存地址？
  - `.foreach`
- debug
- static
- 范型

![image-20191027112058764](/Users/liuxia/Library/Application Support/typora-user-images/image-20191027112058764.png)

![image-20191027171825542](/Users/liuxia/Library/Application Support/typora-user-images/image-20191027171825542.png)

```shell
# Dart
PATH="${PATH}:/Users/liuxia/Library/Android/dart-sdk/bin"
```



![image-20191027172039506](/Users/liuxia/Library/Application Support/typora-user-images/image-20191027172039506.png)



#### Effective Dart

- 字符串
  - 推荐使用插值的形式来组合字符串和值，避免在字符串插值中使用多余的大括号

## 大纲

### 一. 前言

#### 1. 课程介绍

- 面向有一定编程经验、希望快速上手Dart的同学，如会使用Java、Objective-C、JavaScript等语言之一
- 快速完成对Dart语言的入门，达到写Flutter应用程序的要求
- 如果想深入学习Dart，可查阅Dart官网或其他进阶书籍

#### 2. Dart语言介绍

- 由Google开发的编程语言，初次公布与2011年，定位为web编程语言，以代替JavaScript并潜入Chrome为目标
- 当前被用于移动应用、web、服务器和物联网等领域的开发
- 纯面向对象、单继承
- 发布后数年内不温不火（对比2000年后诞生的语言，比如Google的Go， Apple的Swift）
- 近几年的发展不错，Google内部大型web项目使用Dart重构，Google新推出的跨平台移动端开发框架Flutter使用Dart构建，Google新操作系统Fuchsia（[ˈfjuːʃə]）也在使用Dart和Flutter

 ![img](https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/w%3D268%3Bg%3D0/sign=4cabf47761224f4a5799741531ccf76f/c83d70cf3bc79f3d068c6661b6a1cd11728b2976.jpg)

![Dart](https://dart.dev/assets/shared/dart/logo+text/horizontal/white-e71fb382ad5229792cc704b3ee7a88f8013e986d6e34f0956d89c453b454d0a5.svg)

#### 3. 开发环境搭建

> https://dart.dev/get-dart

- Dart SDK
  - Windows

    1. 安装Chocolatey https://chocolatey.org/install
    
    2. 安装SDK
       - 安装稳定版(stable release)
![image-20191027105844380](/Users/liuxia/Workspace/IdeaProjects/DartLearning/documents/images/image-20191027105844380.png)
    
       ```
    C:\> choco install dart-sdk
       ```
       
       
       
       - 安装开发版(dev release)
       ![image-20191027110044225](/Users/liuxia/Workspace/IdeaProjects/DartLearning/documents/images/image-20191027110044225.png)
     - 手动安装
    
       http://www.gekorm.com/dart-windows/
    
       ![image-20191027110619923](/Users/liuxia/Workspace/IdeaProjects/DartLearning/documents/images/image-20191027110619923.png)
    
  - Linux
  
     Debian/Ubuntu 可使用 apt-get 安装，其他需手动安装
  
    ```shell
    # 安装
    $ sudo apt-get update
    $ sudo apt-get install apt-transport-https
    $ sudo sh -c 'curl https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add -'
    $ sudo sh -c 'curl https://storage.googleapis.com/download.dartlang.org/linux/debian/dart_stable.list > /etc/apt/sources.list.d/dart_stable.list'
    $ sudo apt-get update
    $ sudo apt-get install dart
    
    # 如果需要dev版，则使用以下指令替换上面的第四步
    $ sudo sh -c 'curl https://storage.googleapis.com/download.dartlang.org/linux/debian/dart_unstable.list > /etc/apt/sources.list.d/dart_unstable.list'
    
    # 设置环境变量
    $ export PATH=/usr/lib/dart/bin:$PATH
    ```
  
  - Mac
  
    使用homebrew安装
  
    ```shell
    # 安装
    $ brew tap dart-lang/dart
    $ brew install dart            // 安装稳定版
    $ brew install dart --devel    // 安装dev版
    
    # 更新
    $ brew update
    $ brew upgrade dart
    $ brew cleanup dart
    
    # 查看安装路径等信息
    $ brew info dart
    ```
  
  - 确认SDK安装成功
  
    命令行中输入
  
    ```shell
    $ dart --version
    ```
  
    如果输出如下的信息，说明SDK安装成功
  
    ```
    Dart VM version: 1.24.2 (Thu Jun 22 08:42:17 2017) on "macos_x64"
    ```
  
  - 手动安装
  
    下载模板
  
    ```shell
    https://storage.googleapis.com/dart-archive/channels/${stable/dev}/release/${release-id}/sdk/dartsdk-${platform}-${architecture}-release.zip
    ```
  
    - stable/dev:：稳定/开发版 stable / dev
    - release-id：版本号
    - platform：平台，macos / linux / windows
    - architecture：系统架构，x64 / ia32
  
    如
  
    https://storage.googleapis.com/dart-archive/channels/stable/release/2.5.2/sdk/dartsdk-macos-x64-release.zip
  
- 编译器

  - Jetbrains家族 IntelliJ IDEA、WebStorm等
    - Dart插件 https://plugins.jetbrains.com/plugin/6351-dart
  - VS Code 
    - Dart Code插件 https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code
  - Vim
    - dart-vim-plugin插件 https://github.com/dart-lang/dart-vim-plugin
  - 在线编译器
    - https://dart.dev/#try-dart

#### 4. Hello world

#### 5. 为什么Flutter使用Dart语言？

- Dart支持AOT(Ahead Of Time)编译，编译成快速、可预测的本地代码，使Flutter几乎都可以用Dart编写。这不仅使Flutter变得更快，而且几乎所有的东西（包括所有的小部件）都可以定制
- Dart也支持JIT(Just In Time) 编译，开发周期异常快，工作流颠覆常规（包括Flutter流行的亚秒级有状态热重载）
- Dart可以再没有锁的情况下进行对象分配和垃圾回收，避免了抢占式调度和共享内存，可以轻松创建以60fps运行的流畅动画
- Dart的声明式编程布局易于阅读和可视化，使Flutter不再需要单独的声明式布局语言，如JSX、XML
- 易于学习，具有静态语言和动态语言用户都熟悉的特性

> 使可视化编译器变得多余

> 与Instant run 的对比
>
> **Instant run**
>
> 构建修改的部分 -> 部署修改的dex或资源 -> 热部署、温部署、冷部署
>
> - 热拔插：代码改变被应用、投射到APP上，不需要重启应用，不需要重建当前activity。
>   场景：适用于多数的简单改变（包括一些方法实现的修改，或者变量值修改）
> - 温拔插：activity需要被重启才能看到所需更改。
>   场景：典型的情况是代码修改涉及到了资源文件，即resources。
> - 冷拔插：app需要被重启（但是仍然不需要重新安装）
>   场景：任何涉及结构性变化的，比如：修改了继承规则、修改了方法签名等。

NOTE

https://dart.dev

http://dart.goodev.org/guides/language/language-tour

https://jarontai.github.io/dart-souls/

https://dart.dev/get-dart

